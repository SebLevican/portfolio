<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wine Quality Analysis</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
        startOnLoad: true,
        theme: "forest",
        flowchart: {
            curve: "basis",
            diagramPadding: 15,
        }
    });
    </script>
</head>
<body>
    <header>
        <nav>
            <ul class="navbar">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="../../projects.html">Projects</a></li>
                <li><a href="../../contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <header>
        <h1>Wine Quality Analysis</h1>
    </header>
    <section>
        <h2>Introduction</h2>
        <p>
            Have you ever wondered what makes a great wine? As a data enthusiast and wine lover, I was curious to explore the science behind wine quality. 
            This project was born out of my desire to combine my passion for data science with my interest in wine. By analyzing a dataset of wine properties, 
            I aimed to uncover the key factors that influence wine quality and build a model to predict it.
        </p>
    </section>
    <section>
        <h2>Technologies Used</h2>
        <p>
            The following tools and technologies were utilized to implement and operationalize the machine learning pipeline:
        </p>
        <ul>
            <li><strong>Python</strong> - The primary language for data processing, analysis, and model implementation.</li>
            <li><strong>Scikit-learn</strong> - Used for machine learning algorithms and model evaluation.</li>
            <li><strong>Pandas</strong> - For data manipulation and preprocessing.</li>
            <li><strong>Matplotlib / Seaborn</strong> - For data visualization and exploratory data analysis (EDA).</li>
            <li><strong>Docker</strong> - Used for containerizing the project and ensuring consistency across environments.</li>
            <li><strong>MLflow</strong> - For tracking and managing the machine learning models and experiments.</li>
            <li><strong>Dagshub</strong> - For version control and collaboration on data science and machine learning projects, particularly for tracking models, data, and experiments.</li>
        </ul>
    </section>
    <section>
        <h2>Dataset Overview</h2>
        <p>
            The dataset I used comes from the UCI Machine Learning Repository and contains 1,599 records of red wines. Each record includes 12 features, 
            such as acidity, sugar, pH, and alcohol content, along with a quality rating. My goal was to use these features to predict the quality of the wine, 
            scored on a scale from 0 to 10.
        </p>
        <p>Below is the composition of the dataset:</p>
        <table>
            <thead>
                <tr>
                    <th>Column Name</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>fixed acidity</td>
                    <td>Tartaric acid levels in g/dm³</td>
                </tr>
                <tr>
                    <td>volatile acidity</td>
                    <td>Acetic acid levels in g/dm³</td>
                </tr>
                <tr>
                    <td>citric acid</td>
                    <td>Citric acid content in g/dm³</td>
                </tr>
                <tr>
                    <td>residual sugar</td>
                    <td>Sugar remaining after fermentation</td>
                </tr>
                <tr>
                    <td>chlorides</td>
                    <td>Salt content in g/L</td>
                </tr>
                <tr>
                    <td>free sulfur dioxide</td>
                    <td>Free SO₂ in mg/L</td>
                </tr>
                <tr>
                    <td>total sulfur dioxide</td>
                    <td>Total SO₂ in mg/L</td>
                </tr>
                <tr>
                    <td>density</td>
                    <td>Density of the wine in g/cm³</td>
                </tr>
                <tr>
                    <td>pH</td>
                    <td>Acidity level of the wine</td>
                </tr>
                <tr>
                    <td>sulphates</td>
                    <td>Potassium sulphate levels in g/L</td>
                </tr>
                <tr>
                    <td>alcohol</td>
                    <td>Alcohol content in % by volume</td>
                </tr>
                <tr>
                    <td>quality</td>
                    <td>Wine quality score (0–10)</td>
                </tr>
            </tbody>
        </table>
        <p>
            The <strong>quality</strong> column is the target variable, which represents the perceived quality of the wine, scored by wine tasters.
        </p>
    </section>
    <section>
        <h2>Project Structure & Tools</h2>
        <p>
            For this project, I used a <code>template.py</code> file that automates the creation of the project structure, generating all the necessary files and folders to kickstart the workflow efficiently. This allowed me to focus on the key aspects of the pipeline, such as data ingestion, validation, and modeling. It also ensures that the project is easily scalable and maintainable.
        </p>
    </section>
    <section>
        <h2>The Journey</h2>
        <p>
            <strong>Step 1: Data Ingestion</strong><br>
            The first step was to load the dataset into my workflow. I used Python's Pandas library to read the data and perform initial explorations. 
            This helped me understand the structure and identify any missing values or outliers.
        </p>
        <p>
            <strong>Step 2: Data Validation</strong><br>
            Next, I validated the data to ensure its quality. I checked for missing values, inconsistent data types, and outliers. 
            This step was crucial to ensure that the data was reliable for modeling.
        </p>
        <p>
            <strong>Step 3: Data Transformation</strong><br>
            I then preprocessed the data by scaling the features and handling missing values. This prepared the data for the machine learning algorithms.
        </p>
        <p>
            <strong>Step 4: Model Training</strong><br>
            I experimented with several machine learning models, including Random Forest and Logistic Regression. After comparing their performance, 
            I selected the best model to predict wine quality.
        </p>
        <p>
            <strong>Step 5: Model Evaluation</strong><br>
            Finally, I evaluated the model's performance using metrics like accuracy, precision, and recall. I also used tools like MLflow and DagsHub 
            to track my experiments and visualize the results.
        </p>

        <h2 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 10px;">Pipeline: Wine Quality Project</h2>
        <div class="mermaid" style="width: 80%; margin: auto; transform: scale(0.9); transform-origin: top center;">
        graph LR
            Data_Ingestion[Data Ingestion] --> Data_Validation[Data Validation]
            Data_Validation --> Data_Transformation{Data Transformation}
            Data_Transformation ---->|Feature Engineering| Feature_Engineering[Feature Engineering]
            Data_Transformation ---->|Data Preprocessing| Data_Preprocessing[Data Preprocessing]
            Feature_Engineering & Data_Preprocessing --> Model_Trainer[Model Trainer]
            Model_Trainer --> Model_Evaluation{Model Evaluation}
            Model_Evaluation ---->|MLFlow| MLFlow_Tracking[MLFlow Tracking] 
            Model_Evaluation ---->|Dagshub| Dagshub_Tracking[Dagshub Tracking]
        
            style Data_Ingestion fill:#f9f,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
            style Data_Validation fill:#ff9,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
            style Data_Transformation fill:#9ff,stroke:#333,stroke-width:2px,rx:15,ry:15,width:200px
            style Feature_Engineering fill:#cfc,stroke:#333,stroke-width:2px,rx:15,ry:15,width:200px
            style Data_Preprocessing fill:#cfc,stroke:#333,stroke-width:2px,rx:15,ry:15,width:200px
            style Model_Trainer fill:#ffc,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
            style Model_Evaluation fill:#fc9,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
            style MLFlow_Tracking fill:#ccf,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
            style Dagshub_Tracking fill:#ccf,stroke:#333,stroke-width:2px,rx:15,ry:15,width:150px
        </div>
        
    </section>
    <section>
        <h3>Workflows</h3>
        <ol>
            <li>Update <code>config.yaml</code> - Modify the project's main configuration.</li>
            <li>Update <code>schema.yaml</code> - Update the data schemas to align with the model requirements.</li>
            <li>Update <code>params.yaml</code> - Adjust the necessary parameters for model configuration.</li>
            <li>Update the entity - Define and update the key entities in the workflow.</li>
            <li>Update the configuration manager in <code>src/config</code> - Modify the configuration files for the pipeline.</li>
            <li>Update the components - Refine and adjust the components of the model and data.</li>
            <li>Update the pipeline - Finalize and configure the complete workflow.</li>
            <li>Update <code>main.py</code> - Implement the final details of the workflow in the main file.</li>
        </ol>
        <h2 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 10px;">Workflow</h2>
        <div class="mermaid" style="width: 80%; margin: auto; transform: scale(0.9); transform-origin: top center;">
            graph LR
                A[Update config.yaml] --> B[Update schema.yaml]
                B --> C[Update params.yaml]
                C --> D[Update entity]
                D --> E[Update the configuration manager in src/config]
                E --> F[Update components]
                F --> G[Update pipeline]
                G --> H[Update main.py]

                style A fill:#f9f,stroke:#333,stroke-width:2px,rx:15,ry:15
                style B fill:#ff9,stroke:#333,stroke-width:2px,rx:15,ry:15
                style C fill:#9ff,stroke:#333,stroke-width:2px,rx:15,ry:15
                style D fill:#cfc,stroke:#333,stroke-width:2px,rx:15,ry:15
                style E fill:#ffc,stroke:#333,stroke-width:2px,rx:15,ry:15
                style F fill:#fc9,stroke:#333,stroke-width:2px,rx:15,ry:15
                style G fill:#ccf,stroke:#333,stroke-width:2px,rx:15,ry:15
                style H fill:#ccf,stroke:#333,stroke-width:2px,rx:15,ry:15



        </div>
    </section>
    <section>
        <h2>Key Insights</h2>
        <p>
            One of the most interesting findings was that <strong>alcohol content</strong> had the strongest correlation with wine quality. 
            Wines with higher alcohol levels tended to receive higher quality ratings. On the other hand, features like pH and density had minimal impact.
        </p>
        <p>
            Another surprise was how well the <strong>Random Forest</strong> model performed compared to other algorithms. It achieved an accuracy of 89%, 
            making it the best choice for predicting wine quality.
        </p>
    </section>


    <section>
        <h2>Experiment Results</h2>
        <p>
            To evaluate the performance of my wine quality prediction model, I used three key metrics:
        </p>
        <ul>
            <li><strong>Mean Absolute Error (MAE):</strong> Measures the average absolute difference between predicted and actual values. Lower values indicate better performance.</li>
            <li><strong>R² (R-squared):</strong> Represents the proportion of variance in the target variable that is predictable from the features. Values range from 0 to 1, with higher values indicating a better fit.</li>
            <li><strong>Root Mean Squared Error (RMSE):</strong> Measures the average magnitude of the prediction errors. Like MAE, lower values are better.</li>
        </ul>
    </section>
    <section>
        <h2>Experiment Results</h2>
        <p>
            Below are the results for two of my experiments:
        </p>
        <table>
            <thead>
                <tr>
                    <th>Experiment</th>
                    <th>MAE</th>
                    <th>R²</th>
                    <th>RMSE</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>silent-ant-961</td>
                    <td>0.51</td>
                    <td>0.26</td>
                    <td>0.65</td>
                </tr>
                <tr>
                    <td>popular-auk</td>
                    <td>0.52</td>
                    <td>0.29</td>
                    <td>0.65</td>
                </tr>
            </tbody>
        </table>
        <p>
            For more details, visit the full report on <a href="https://dagshub.com/SebLevican/datascienceproject/experiments" target="_blank">DagsHub</a>.
        </p>
    </section>
    <section>
        <h2>Experiment Results Visualization</h2>
        <p>
            Below is an interactive visualization of the experiment results:
        </p>
        <div id="plotly-chart" style="width: 100%; max-width: 800px; height: 500px;"></div>
        <div id="scatter-plot" style="width: 100%; max-width: 800px; height: 500px;"></div>
    </section>
    
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        // Bar Chart
        const experiments = ['silent-ant-961', 'popular-auk'];
        const mae = [0.51, 0.52];
        const r2 = [0.26, 0.29];
        const rmse = [0.65, 0.65];
    
        const data = [
            {
                x: experiments,
                y: mae,
                name: 'MAE',
                type: 'bar',
                marker: { color: '#1f77b4' }
            },
            {
                x: experiments,
                y: r2,
                name: 'R²',
                type: 'bar',
                marker: { color: '#ff7f0e' }
            },
            {
                x: experiments,
                y: rmse,
                name: 'RMSE',
                type: 'bar',
                marker: { color: '#2ca02c' }
            }
        ];
    
        const layout = {
            title: 'Experiment Results Comparison',
            xaxis: { title: 'Experiment' },
            yaxis: { title: 'Metric Value' },
            barmode: 'group',
            annotations: [
                {
                    x: 'silent-ant-961',
                    y: 0.65,
                    text: 'Best RMSE',
                    showarrow: true,
                    arrowhead: 7,
                    ax: 0,
                    ay: -40
                }
            ]
        };
    
        Plotly.newPlot('plotly-chart', data, layout);
    
        // Scatter Plot
        const actual = [5, 6, 7, 8, 9];
        const predicted = [5.1, 6.2, 6.9, 8.1, 8.8];
    
        const scatterData = [
            {
                x: actual,
                y: predicted,
                mode: 'markers',
                type: 'scatter',
                marker: { color: '#d62728' }
            }
        ];
    
        const scatterLayout = {
            title: 'Predicted vs Actual Wine Quality',
            xaxis: { title: 'Actual Quality' },
            yaxis: { title: 'Predicted Quality' }
        };
    
        Plotly.newPlot('scatter-plot', scatterData, scatterLayout);
    </script>

    <section>
        <h2>Interpretation</h2>
        <p>
            The results show that both experiments performed similarly, with an <strong>MAE</strong> of around 0.51–0.52 and an <strong>RMSE</strong> of 0.65. 
            These values indicate that, on average, the model's predictions are off by about 0.51–0.52 units in wine quality (on a scale of 0–10). 
            The <strong>R²</strong> values of 0.26 and 0.29 suggest that the model explains about 26–29% of the variance in wine quality, which indicates room for improvement.
        </p>
        <p>
            While the model performs reasonably well, there is still potential to enhance its accuracy. Possible next steps include:
        </p>
        <ul>
            <li>Exploring more advanced machine learning algorithms, such as Gradient Boosting or Neural Networks.</li>
            <li>Incorporating additional features or performing more extensive feature engineering.</li>
            <li>Collecting more data to improve the model's ability to generalize.</li>
        </ul>
    </section>
<section>
    <h2>Challenges and Learnings</h2>
    <p>
        One of the biggest challenges I faced was dealing with imbalanced data. The dataset had very few samples for certain quality ratings, 
        which made it difficult for the model to learn effectively. To address this, I experimented with techniques like oversampling and class weighting, 
        which improved the model's performance.
    </p>
    <p>
        Another challenge was interpreting the results. At first, I struggled to understand why certain features had a stronger impact on wine quality than others. 
        Through research and experimentation, I gained a deeper understanding of the underlying chemistry and how it relates to wine quality.
    </p>
</section>
<section>
    <h2>Conclusion</h2>
    <p>
        This project was a fantastic learning experience. Not only did I deepen my understanding of machine learning and data analysis, 
        but I also gained valuable insights into the factors that influence wine quality. It reinforced the importance of data validation, 
        experimentation, and visualization in building effective models.
    </p>
    <p>
        Moving forward, I’d like to explore more advanced techniques, such as deep learning, to further improve the model's performance. 
        I’m also excited to apply the skills I’ve learned to other domains and datasets.
        Do you want to see the code? click <a href="https://github.com/SebLevican/Wine-Quality" target="_blank" class="'btn"> here </a>
    </p>
</section>
</body>
</html>
